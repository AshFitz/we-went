{% extends 'base.html' %}
{% load static %}


{% block content %}
<div class="container-fluid post-detail-container">
    <div class="container">
        <div class="row">
            <div class="col">
            <div class="col-12" id="post-panel-detail">
                <div class="col-12">
                    <h2>{{ post.title }}</h2>
                </div>
                <div class="col-12">
                    <p class="post-description">{{ post.description | safe }}</p>
                </div>
                <div class="col-12">
                    <p>{{ post.location }}</p>
                </div>
                <!--Rating stars-->
                <div class="col-12 pb-2 rating-div">
                    <div class="rating-holder">
                    {% if post.rating == 1 %} 
                    <i class="fas fa-star d-inline"></i>
                    <i class="far fa-star d-inline"></i>
                    <i class="far fa-star d-inline"></i>
                    <i class="far fa-star d-inline"></i>
                    <i class="far fa-star d-inline"></i>
                    {% elif post.rating == 2 %}
                    <i class="fas fa-star d-inline"></i>
                    <i class="fas fa-star d-inline"></i>
                    <i class="far fa-star d-inline"></i>
                    <i class="far fa-star d-inline"></i>
                    <i class="far fa-star d-inline"></i>
                    {% elif post.rating == 3 %}
                    <i class="fas fa-star d-inline"></i>
                    <i class="fas fa-star d-inline"></i>
                    <i class="fas fa-star d-inline"></i>
                    <i class="far fa-star d-inline"></i>
                    <i class="far fa-star d-inline"></i>
                    {% elif post.rating == 4 %}
                    <i class="fas fa-star d-inline"></i>
                    <i class="fas fa-star d-inline"></i>
                    <i class="fas fa-star d-inline"></i>
                    <i class="fas fa-star d-inline"></i>
                    <i class="far fa-star d-inline"></i>
                    {% elif post.rating == 5 %}
                    <i class="fas fa-star d-inline"></i>
                    <i class="fas fa-star d-inline"></i>
                    <i class="fas fa-star d-inline"></i>
                    <i class="fas fa-star d-inline"></i>
                    <i class="fas fa-star d-inline"></i>
                    {%else%}
                    <p>No rating.</p>
                    {%endif%}
                    </div>
                </div>
                <div class="col-12">
                    <img class="post-detail-image-container" src="{{ post.featured_image.url}}">
                </div>
                <div class="col-12 post-detail-like">
                    <span>{{ post.like_count }}</span>
                    <i class="fas fa-heart detail-like"></i>
                </div>
                {% if request.user == post.author %} 
                <a href="{% url 'edit_post' post.id %}"><i class="fas fa-box">Edit</i></a>
                {% endif%}
            </div>
            </div>  
        </div>
        {%if comments %}
        <div class="container comment-main-container">
            
            {% for comment in comments %}
            <div class="col-12 comment-container">
                <div class="row">
                    <div class="col">
                        <p><span class="comment-user "> {{comment.user|title}}</span>{{comment.body}}</p>
                    </div>
                    {% if comment.user == request.user %}
                    <div class="row d-inline button-grouper">
                        <div class="col d-inline"><a class="post-detail-buttons d-inline" href="{% url 'edit_comment' comment.id %}" aria-label="edit button"><i class="fas fa-comment-dots"></i></a></div>
                        <div class="col d-inline"><a class="post-detail-buttons d-inline" href="{% url 'delete_comment' post.id %}"><i class="fas fa-trash"></i></a></div>
                    </div>
                    {% endif %}
                </div>
            </div>
            {% endfor%}
            {% else %}

            {% endif%}
        </div>
    </div>
</div>

{% endblock  %}